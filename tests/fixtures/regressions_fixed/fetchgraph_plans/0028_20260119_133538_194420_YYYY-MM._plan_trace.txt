{
  "stage": "before_normalize",
  "plan": {
    "required_context": [
      "demo_qa"
    ],
    "context_plan": [
      {
        "provider": "demo_qa",
        "mode": "slice",
        "selectors": {
          "op": "query",
          "root_entity": "orders",
          "group_by": [
            {
              "field": "order_month",
              "alias": "month"
            }
          ],
          "aggregations": [
            {
              "field": "order_id",
              "agg": "count",
              "alias": "order_count"
            }
          ],
          "select": [
            {
              "expr": "month",
              "alias": "month"
            },
            {
              "expr": "order_count",
              "alias": "order_count"
            }
          ],
          "limit": 12,
          "order_by": [
            {
              "field": "order_count",
              "direction": "asc"
            }
          ]
        },
        "max_tokens": 1000
      }
    ],
    "adr_queries": null,
    "constraints": null,
    "entities": [],
    "dtos": []
  }
}

{
  "stage": "after_normalize",
  "plan": {
    "required_context": [
      "demo_qa"
    ],
    "context_plan": [
      {
        "provider": "demo_qa",
        "mode": "slice",
        "selectors": {
          "op": "query",
          "root_entity": "orders",
          "group_by": [
            {
              "field": "order_month",
              "alias": "month"
            }
          ],
          "aggregations": [
            {
              "field": "order_id",
              "agg": "count",
              "alias": "order_count"
            }
          ],
          "select": [
            {
              "expr": "month",
              "alias": "month"
            },
            {
              "expr": "order_count",
              "alias": "order_count"
            }
          ],
          "limit": 12,
          "order_by": [
            {
              "field": "order_count",
              "direction": "asc"
            }
          ]
        },
        "max_tokens": 1000
      }
    ],
    "adr_queries": null,
    "constraints": null,
    "entities": [],
    "dtos": [],
    "normalization_notes": []
  }
}

{
  "stage": "fetch_request",
  "provider": "demo_qa",
  "provider_class": "PandasRelationalDataProvider",
  "mode": "slice",
  "selectors": {
    "op": "query",
    "root_entity": "orders",
    "group_by": [
      {
        "field": "order_month",
        "alias": "month"
      }
    ],
    "aggregations": [
      {
        "field": "order_id",
        "agg": "count",
        "alias": "order_count"
      }
    ],
    "select": [
      {
        "expr": "month",
        "alias": "month"
      },
      {
        "expr": "order_count",
        "alias": "order_count"
      }
    ],
    "limit": 12,
    "order_by": [
      {
        "field": "order_count",
        "direction": "asc"
      }
    ]
  },
  "max_tokens": 1000
}

